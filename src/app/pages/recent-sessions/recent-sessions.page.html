<!-- Simple App Header with back button -->
<ion-header class="app-header">
  <ion-toolbar>
    <!-- Left side: Back button -->
    <ion-buttons slot="start">
      <ion-button class="back-btn" (click)="goBack()">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>

    <!-- App title -->
    <ion-title class="app-title">ALALA</ion-title>

    <!-- Right side: Settings -->
    <ion-buttons slot="end">
      <ion-button routerLink="/settings" class="icon-btn">
        <ion-icon name="settings-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="recent-sessions-screen" fullscreen>
  <div class="header-spacer"></div>
  
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <ion-spinner name="crescent"></ion-spinner>
    <p>Loading session history...</p>
  </div>

  <!-- Recent Sessions Section -->
  <div class="game-section" *ngIf="!isLoading">
    <div class="section-header-text">
      <h2>ðŸ“… Recent Sessions</h2>
      <p>Your latest activity and performance</p>
    </div>

    <div class="session-list" *ngIf="recentSessions.length > 0">
      <div class="session-item" *ngFor="let session of recentSessions">
        <div class="session-date">
          <ion-icon name="calendar-outline"></ion-icon>
          <span>{{ session.date | date:'M/d/yy, h:mm a' }}</span>
        </div>
        <div class="session-details">
          <div class="session-stat">
            <span>{{ session.category || 'Unknown Category' }}</span>
            <span class="accuracy-badge" [class]="getAccuracyClass(session.accuracy)">
              {{ session.accuracy }}%
            </span>
          </div>
          <div class="session-meta">
            {{ session.correctAnswers || 0 }}/{{ session.totalQuestions || 0 }} correct â€¢
            {{ session.duration }}min â€¢
            {{ session.skippedCards || 0 }} skipped
          </div>
        </div>
      </div>
    </div>

    <div class="no-sessions-message" *ngIf="recentSessions.length === 0">
      <ion-icon name="school-outline"></ion-icon>
      <h3>No Quiz Sessions Yet</h3>
      <p>Take some quizzes to see your recent session history here!</p>
      <ion-button routerLink="/home" fill="solid" color="primary">
        <ion-icon name="play" slot="start"></ion-icon>
        Start a Quiz
      </ion-button>
    </div>
  </div>

  <!-- Floating decorative elements -->
  <div class="floating-elements">
    <div class="floating-emoji emoji-1">ðŸŒŸ</div>
    <div class="floating-emoji emoji-2">ðŸ’«</div>
    <div class="floating-emoji emoji-3">âœ¨</div>
    <div class="floating-emoji emoji-4">ðŸŽˆ</div>
  </div>
</ion-content>

